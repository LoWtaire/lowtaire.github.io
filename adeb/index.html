<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Occupation des salles</title>
  <meta name="theme-color" content="#111" />
  <link rel="stylesheet" href="assets/style.css?v=20" />
</head>
<body>
  <header class="app-header">
    <div class="header-top">
      <div>
        <h1 id="pageTitle">Salles libres</h1>
        <div class="campus-line" id="campusLine">Campus détecté : --</div>
      </div>
      <div class="header-meta">
        <span id="campusBadge" class="badge badge-unknown">Inconnu</span>
        <span id="lastUpdateText" class="meta">Dernière mise à jour : --:--</span>
        <button id="refreshBtn" class="btn" type="button">Actualiser</button>
      </div>
    </div>

    <div id="fallbackBanner" class="banner" hidden></div>

    <div class="search-row">
      <input id="searchInput" type="search" placeholder="Rechercher une salle, bâtiment, code…" autocomplete="off" />
    </div>

    <nav class="tabs" aria-label="Vues">
      <button class="tab is-active" data-view="now" type="button">Maintenant</button>
      <button class="tab" data-view="today" type="button">Aujourd’hui</button>
      <button class="tab" data-view="search" type="button">Recherche</button>
    </nav>
  </header>

  <main class="container">
    <section id="statusBox" class="status"></section>

    <section id="viewNow" class="view"></section>

    <section id="viewToday" class="view" hidden>
      <div class="panel controls-panel">
        <label>
          Heure cible
          <input id="targetTime" type="time" step="900" />
        </label>
        <label>
          Durée minimale
          <select id="durationSelect">
            <option value="10">10 min</option>
            <option value="30" selected>30 min</option>
            <option value="60">60 min</option>
          </select>
        </label>
      </div>
      <div id="todayList" class="stack"></div>
    </section>

    <section id="viewSearch" class="view" hidden>
      <div class="panel controls-panel">
        <label class="checkline"><input id="onlyFreeCheck" type="checkbox" /> Seulement libres</label>
        <label>
          Durée minimale
          <select id="searchDurationSelect">
            <option value="0" selected>Aucune</option>
            <option value="10">10 min</option>
            <option value="30">30 min</option>
            <option value="60">60 min</option>
          </select>
        </label>
      </div>
      <div id="searchList" class="stack"></div>
    </section>

    <section id="viewRoom" class="view" hidden></section>
  </main>

  <script src="assets/rooms.js?v=20" type="module"></script>
</body>
</html>
